- op (less crit @ battle)
- deep wounds
- procs
- on use
- execute weapon set


- improve log entries, aim for complete transparency:
  - flurry uptime
  - bt / ww: how many of the theoretically possible ones are done during a fight due to rage?


- simulate slow vs. fast oh when all abilities are modeled
- difference 2x fast vs. slow / fast vs. slow / slow @ execute phase
- optimize hs threshold when fight duration is random


x model buffs (own, other classes, consumables)
model procs (items, talents, enchants)
talents: deep wounds
model on-use effects (items, heroism, consumables (mighty rage potion, juju flurry))
x model boss buffs / debuffs
x event queue
x ability comes off cd = event, end of gcd = event
x model rage, on_rage_gained callback
x model ability priorities
run sim n times (use confidence interval to define n) on boss x, output dps, dps per ability, stat weights
are floats an issue? if yes, how to get around floating point arithmetics?
rounding: when to round / floor / ceil?
refactor debuffs (like buffs)
model debuffs only on boss after some time, cd stacking, ...
outsource ability cost etc. config. all knowledge if possible. support multiple expansions if possible.
x fight duration: draw randomly around configured duration (from normal distribution? fixed min / max?)
save / load item sets

performance improvements (expecting a 2x speedup from optimizations times a 4x speedup on 4 logical cores):
- cache all calculations with fixed result
- current_stats: reduce calls to a minimum
- reduce copy to a minimum
- make sure logging doesn't use any cpu time when disabled
- parallelize do_n_runs

on_rage_gain checks:
x dw, x gcd, x bt, x ww, x hs, execute, bs, op

abilities to model:
prio 1:
x bt
x ww
x bloodrage
x death wish
x recklessness
x hs

prio 2:
execute
op (less crit @ battle)

prio 3:
battle shout

tests / lookups:
death wish gcd? reck gcd?
bt, ww cds
check calculated stats = stats in char window
5% base crit double-check
white hit weapon damage actually randomly drawn in dmg range or just the average?
what about ww?
